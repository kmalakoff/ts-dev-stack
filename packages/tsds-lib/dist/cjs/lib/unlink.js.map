{"version":3,"sources":["unlink.mjs"],"sourcesContent":["import fs from 'fs';\nimport path from 'path';\nimport Queue from 'queue-cb';\n\nexport default function unlink(target, cb) {\n  const movedPath = path.join(path.dirname(target), `${path.basename(target)}.tsds`);\n  const queue = new Queue(1);\n  queue.defer(fs.unlink.bind(null, target));\n  queue.defer(fs.rename.bind(null, movedPath, target));\n  queue.await(() => {\n    cb();\n  });\n}\n"],"names":["unlink","target","cb","movedPath","path","join","dirname","basename","queue","Queue","defer","fs","bind","rename","await"],"mappings":";;;;+BAIA;;;eAAwBA;;;yDAJT;2DACE;8DACC;;;;;;AAEH,SAASA,OAAOC,MAAM,EAAEC,EAAE;IACvC,IAAMC,YAAYC,aAAI,CAACC,IAAI,CAACD,aAAI,CAACE,OAAO,CAACL,SAAS,AAAC,GAAwB,OAAtBG,aAAI,CAACG,QAAQ,CAACN,SAAQ;IAC3E,IAAMO,QAAQ,IAAIC,gBAAK,CAAC;IACxBD,MAAME,KAAK,CAACC,WAAE,CAACX,MAAM,CAACY,IAAI,CAAC,MAAMX;IACjCO,MAAME,KAAK,CAACC,WAAE,CAACE,MAAM,CAACD,IAAI,CAAC,MAAMT,WAAWF;IAC5CO,MAAMM,KAAK,CAAC;QACVZ;IACF;AACF"}