{"version":3,"sources":["esm.js"],"sourcesContent":["var fs = require('fs');\nvar path = require('path');\nvar rimraf = require('rimraf');\nvar Queue = require('queue-cb');\nvar assign = require('just-extend');\nvar compileDirectory = require('../lib/compileDirectory');\n\nmodule.exports = function esm(_args, options, cb) {\n  var cwd = options.cwd || process.cwd();\n  options = assign({}, options);\n  options.type = 'esm';\n  options.sourceMaps = true;\n  options.dest = path.join(cwd, 'dist', 'esm');\n  rimraf(options.dest, function () {\n    var queue = new Queue(1);\n    queue.defer(compileDirectory.bind(null, options));\n    queue.defer(fs.writeFile.bind(null, path.join(options.dest, 'package.json'), '{\"type\":\"module\"}'));\n    queue.await(cb);\n  });\n};\n"],"names":["fs","require","path","rimraf","Queue","assign","compileDirectory","module","exports","esm","_args","options","cb","cwd","process","type","sourceMaps","dest","join","queue","defer","bind","writeFile","await"],"mappings":";AAAA,IAAIA,KAAKC,QAAQ;AACjB,IAAIC,OAAOD,QAAQ;AACnB,IAAIE,SAASF,QAAQ;AACrB,IAAIG,QAAQH,QAAQ;AACpB,IAAII,SAASJ,QAAQ;AACrB,IAAIK,mBAAmBL,QAAQ;AAE/BM,OAAOC,OAAO,GAAG,SAASC,IAAIC,KAAK,EAAEC,OAAO,EAAEC,EAAE;IAC9C,IAAIC,MAAMF,QAAQE,GAAG,IAAIC,QAAQD,GAAG;IACpCF,UAAUN,OAAO,CAAC,GAAGM;IACrBA,QAAQI,IAAI,GAAG;IACfJ,QAAQK,UAAU,GAAG;IACrBL,QAAQM,IAAI,GAAGf,KAAKgB,IAAI,CAACL,KAAK,QAAQ;IACtCV,OAAOQ,QAAQM,IAAI,EAAE;QACnB,IAAIE,QAAQ,IAAIf,MAAM;QACtBe,MAAMC,KAAK,CAACd,iBAAiBe,IAAI,CAAC,MAAMV;QACxCQ,MAAMC,KAAK,CAACpB,GAAGsB,SAAS,CAACD,IAAI,CAAC,MAAMnB,KAAKgB,IAAI,CAACP,QAAQM,IAAI,EAAE,iBAAiB;QAC7EE,MAAMI,KAAK,CAACX;IACd;AACF"}