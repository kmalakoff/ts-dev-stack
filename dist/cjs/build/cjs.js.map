{"version":3,"sources":["cjs.js"],"sourcesContent":["const fs = require('node:fs');\nconst path = require('node:path');\nconst Queue = require('queue-cb');\nconst rimraf = require('../lib/rimraf');\nconst compileDirectory = require('./compileDirectory');\n\nmodule.exports = function cjs(_args, options, cb) {\n  const cwd = options.cwd || process.cwd();\n  options = { ...options };\n  options.type = 'cjs';\n  options.sourceMaps = true;\n  options.dest = path.join(cwd, 'dist', 'cjs');\n  rimraf(options.dest, () => {\n    const queue = new Queue(1);\n    queue.defer(compileDirectory.bind(null, options));\n    queue.defer(fs.writeFile.bind(null, path.join(options.dest, 'package.json'), '{\"type\":\"commonjs\"}'));\n    queue.await(cb);\n  });\n};\n"],"names":["fs","require","path","Queue","rimraf","compileDirectory","module","exports","cjs","_args","options","cb","cwd","process","type","sourceMaps","dest","join","queue","defer","bind","writeFile","await"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,KAAKC,QAAQ;AACnB,IAAMC,OAAOD,QAAQ;AACrB,IAAME,QAAQF,QAAQ;AACtB,IAAMG,SAASH,QAAQ;AACvB,IAAMI,mBAAmBJ,QAAQ;AAEjCK,OAAOC,OAAO,GAAG,SAASC,IAAIC,KAAK,EAAEC,OAAO,EAAEC,EAAE;IAC9C,IAAMC,MAAMF,QAAQE,GAAG,IAAIC,QAAQD,GAAG;IACtCF,UAAU,mBAAKA;IACfA,QAAQI,IAAI,GAAG;IACfJ,QAAQK,UAAU,GAAG;IACrBL,QAAQM,IAAI,GAAGd,KAAKe,IAAI,CAACL,KAAK,QAAQ;IACtCR,OAAOM,QAAQM,IAAI,EAAE;QACnB,IAAME,QAAQ,IAAIf,MAAM;QACxBe,MAAMC,KAAK,CAACd,iBAAiBe,IAAI,CAAC,MAAMV;QACxCQ,MAAMC,KAAK,CAACnB,GAAGqB,SAAS,CAACD,IAAI,CAAC,MAAMlB,KAAKe,IAAI,CAACP,QAAQM,IAAI,EAAE,iBAAiB;QAC7EE,MAAMI,KAAK,CAACX;IACd;AACF"}