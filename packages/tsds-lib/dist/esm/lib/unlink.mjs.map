{"version":3,"sources":["unlink.mjs"],"sourcesContent":["import fs from 'fs';\nimport path from 'path';\nimport Queue from 'queue-cb';\n\nexport default function unlink(target, cb) {\n  const movedPath = path.join(path.dirname(target), `${path.basename(target)}.tsds`);\n  const queue = new Queue(1);\n  queue.defer(fs.unlink.bind(null, target));\n  queue.defer(fs.rename.bind(null, movedPath, target));\n  queue.await(() => {\n    cb();\n  });\n}\n"],"names":["fs","path","Queue","unlink","target","cb","movedPath","join","dirname","basename","queue","defer","bind","rename","await"],"mappings":"AAAA,OAAOA,QAAQ,KAAK;AACpB,OAAOC,UAAU,OAAO;AACxB,OAAOC,WAAW,WAAW;AAE7B,eAAe,SAASC,OAAOC,MAAM,EAAEC,EAAE;IACvC,MAAMC,YAAYL,KAAKM,IAAI,CAACN,KAAKO,OAAO,CAACJ,SAAS,GAAGH,KAAKQ,QAAQ,CAACL,QAAQ,KAAK,CAAC;IACjF,MAAMM,QAAQ,IAAIR,MAAM;IACxBQ,MAAMC,KAAK,CAACX,GAAGG,MAAM,CAACS,IAAI,CAAC,MAAMR;IACjCM,MAAMC,KAAK,CAACX,GAAGa,MAAM,CAACD,IAAI,CAAC,MAAMN,WAAWF;IAC5CM,MAAMI,KAAK,CAAC;QACVT;IACF;AACF"}