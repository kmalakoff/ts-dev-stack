{"version":3,"sources":["docs.js"],"sourcesContent":["var path = require('path');\nvar fs = require('fs');\nvar assign = require('just-extend');\nvar rimraf = require('rimraf');\nvar mkdirp = require('mkdirp');\nvar Queue = require('queue-cb');\nvar spawn = require('./lib/spawn');\nvar source = require('./lib/source');\n\nmodule.exports = function docs(_args, options, cb) {\n  var cwd = options.cwd || process.cwd();\n  var src = source(options);\n  var srcFolder = path.dirname(path.resolve(cwd, src));\n  var dest = path.resolve(process.cwd(), 'docs');\n  var tmpTsConfigPath = path.join(dest, 'tsconfig.json');\n\n  rimraf(dest, function () {\n    var queue = new Queue(1);\n    queue.defer(mkdirp.bind(null, dest));\n\n    queue.defer(function (cb) {\n      var tsConfig = require(path.join(cwd, 'tsconfig.json'));\n      tsConfig = assign({}, tsConfig, { include: [srcFolder] });\n      fs.writeFile(tmpTsConfigPath, JSON.stringify(tsConfig), 'utf8', cb);\n    });\n    queue.defer(spawn.bind(null, 'typedoc', [src, '--tsconfig', tmpTsConfigPath, '--includeVersion', '--out', 'docs'], {}));\n    queue.await(cb);\n  });\n};\n"],"names":["path","require","fs","assign","rimraf","mkdirp","Queue","spawn","source","module","exports","docs","_args","options","cb","cwd","process","src","srcFolder","dirname","resolve","dest","tmpTsConfigPath","join","queue","defer","bind","tsConfig","include","writeFile","JSON","stringify","await"],"mappings":";AAAA,IAAIA,OAAOC,QAAQ;AACnB,IAAIC,KAAKD,QAAQ;AACjB,IAAIE,SAASF,QAAQ;AACrB,IAAIG,SAASH,QAAQ;AACrB,IAAII,SAASJ,QAAQ;AACrB,IAAIK,QAAQL,QAAQ;AACpB,IAAIM,QAAQN,QAAQ;AACpB,IAAIO,SAASP,QAAQ;AAErBQ,OAAOC,OAAO,GAAG,SAASC,KAAKC,KAAK,EAAEC,OAAO,EAAEC,EAAE;IAC/C,IAAIC,MAAMF,QAAQE,GAAG,IAAIC,QAAQD,GAAG;IACpC,IAAIE,MAAMT,OAAOK;IACjB,IAAIK,YAAYlB,KAAKmB,OAAO,CAACnB,KAAKoB,OAAO,CAACL,KAAKE;IAC/C,IAAII,OAAOrB,KAAKoB,OAAO,CAACJ,QAAQD,GAAG,IAAI;IACvC,IAAIO,kBAAkBtB,KAAKuB,IAAI,CAACF,MAAM;IAEtCjB,OAAOiB,MAAM;QACX,IAAIG,QAAQ,IAAIlB,MAAM;QACtBkB,MAAMC,KAAK,CAACpB,OAAOqB,IAAI,CAAC,MAAML;QAE9BG,MAAMC,KAAK,CAAC,SAAUX,EAAE;YACtB,IAAIa,WAAW1B,QAAQD,KAAKuB,IAAI,CAACR,KAAK;YACtCY,WAAWxB,OAAO,CAAC,GAAGwB,UAAU;gBAAEC,SAAS;oBAACV;iBAAU;YAAC;YACvDhB,GAAG2B,SAAS,CAACP,iBAAiBQ,KAAKC,SAAS,CAACJ,WAAW,QAAQb;QAClE;QACAU,MAAMC,KAAK,CAAClB,MAAMmB,IAAI,CAAC,MAAM,WAAW;YAACT;YAAK;YAAcK;YAAiB;YAAoB;YAAS;SAAO,EAAE,CAAC;QACpHE,MAAMQ,KAAK,CAAClB;IACd;AACF"}