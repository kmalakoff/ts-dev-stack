{"version":3,"sources":["pre.mjs"],"sourcesContent":["import Queue from 'queue-cb';\nimport { spawn } from 'tsds-lib';\n\nimport build from '../build/index.mjs';\nimport format from '../quality/format.mjs';\n\nexport default function predeploy(args, options, cb) {\n  const cwd = options.cwd || process.cwd();\n\n  const queue = new Queue(1);\n  queue.defer(format.bind(null, args, options));\n  queue.defer(build.bind(null, args, options));\n  queue.defer(spawn.bind(null, 'sort-package-json', [], { cwd }));\n  queue.defer(spawn.bind(null, 'depcheck', [], { cwd }));\n  queue.await(cb);\n}\n"],"names":["Queue","spawn","build","format","predeploy","args","options","cb","cwd","process","queue","defer","bind","await"],"mappings":"AAAA,OAAOA,WAAW,WAAW;AAC7B,SAASC,KAAK,QAAQ,WAAW;AAEjC,OAAOC,WAAW,qBAAqB;AACvC,OAAOC,YAAY,wBAAwB;AAE3C,eAAe,SAASC,UAAUC,IAAI,EAAEC,OAAO,EAAEC,EAAE;IACjD,MAAMC,MAAMF,QAAQE,GAAG,IAAIC,QAAQD,GAAG;IAEtC,MAAME,QAAQ,IAAIV,MAAM;IACxBU,MAAMC,KAAK,CAACR,OAAOS,IAAI,CAAC,MAAMP,MAAMC;IACpCI,MAAMC,KAAK,CAACT,MAAMU,IAAI,CAAC,MAAMP,MAAMC;IACnCI,MAAMC,KAAK,CAACV,MAAMW,IAAI,CAAC,MAAM,qBAAqB,EAAE,EAAE;QAAEJ;IAAI;IAC5DE,MAAMC,KAAK,CAACV,MAAMW,IAAI,CAAC,MAAM,YAAY,EAAE,EAAE;QAAEJ;IAAI;IACnDE,MAAMG,KAAK,CAACN;AACd"}