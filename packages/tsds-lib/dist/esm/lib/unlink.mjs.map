{"version":3,"sources":["unlink.js"],"sourcesContent":["const path = require('path');\nconst fs = require('fs');\nconst Queue = require('queue-cb');\n\nmodule.exports = function unlink(target, cb) {\n  const movedPath = path.join(path.dirname(target), `${path.basename(target)}.tsds`);\n  const queue = new Queue(1);\n  queue.defer(fs.unlink.bind(null, target));\n  queue.defer(fs.rename.bind(null, movedPath, target));\n  queue.await(() => {\n    cb();\n  });\n};\n"],"names":["path","require","fs","Queue","module","exports","unlink","target","cb","movedPath","join","dirname","basename","queue","defer","bind","rename","await"],"mappings":"AAAA,MAAMA,OAAOC,QAAQ;AACrB,MAAMC,KAAKD,QAAQ;AACnB,MAAME,QAAQF,QAAQ;AAEtBG,OAAOC,OAAO,GAAG,SAASC,OAAOC,MAAM,EAAEC,EAAE;IACzC,MAAMC,YAAYT,KAAKU,IAAI,CAACV,KAAKW,OAAO,CAACJ,SAAS,GAAGP,KAAKY,QAAQ,CAACL,QAAQ,KAAK,CAAC;IACjF,MAAMM,QAAQ,IAAIV,MAAM;IACxBU,MAAMC,KAAK,CAACZ,GAAGI,MAAM,CAACS,IAAI,CAAC,MAAMR;IACjCM,MAAMC,KAAK,CAACZ,GAAGc,MAAM,CAACD,IAAI,CAAC,MAAMN,WAAWF;IAC5CM,MAAMI,KAAK,CAAC;QACVT;IACF;AACF"}