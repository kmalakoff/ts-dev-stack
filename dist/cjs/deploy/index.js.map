{"version":3,"sources":["index.js"],"sourcesContent":["var Queue = require('queue-cb');\nvar spawn = require('../lib/spawn');\nvar predeploy = require('./predeploy');\nvar postdeploy = require('./postdeploy');\n\nmodule.exports = function deploy(args, options, cb) {\n  var npArgs = [];\n  if (options['no-publish']) npArgs.push('--no-publish');\n  if (options.preview) npArgs.push('--preview');\n  if (!options.yarn) npArgs.push('--no-yarn');\n\n  var queue = new Queue(1);\n  queue.defer(predeploy.bind(null, args, options));\n  queue.defer(spawn.bind(null, 'np', npArgs, {}));\n  queue.defer(postdeploy.bind(null, args, options));\n  queue.await(cb);\n};\n\nmodule.exports.options = { alias: { 'no-publish': 'np', preview: 'p', yarn: 'y' } };\n"],"names":["Queue","require","spawn","predeploy","postdeploy","module","exports","deploy","args","options","cb","npArgs","push","preview","yarn","queue","defer","bind","await","alias"],"mappings":";AAAA,IAAIA,QAAQC,QAAQ;AACpB,IAAIC,QAAQD,QAAQ;AACpB,IAAIE,YAAYF,QAAQ;AACxB,IAAIG,aAAaH,QAAQ;AAEzBI,OAAOC,OAAO,GAAG,SAASC,OAAOC,IAAI,EAAEC,OAAO,EAAEC,EAAE;IAChD,IAAIC,SAAS,EAAE;IACf,IAAIF,OAAO,CAAC,aAAa,EAAEE,OAAOC,IAAI,CAAC;IACvC,IAAIH,QAAQI,OAAO,EAAEF,OAAOC,IAAI,CAAC;IACjC,IAAI,CAACH,QAAQK,IAAI,EAAEH,OAAOC,IAAI,CAAC;IAE/B,IAAIG,QAAQ,IAAIf,MAAM;IACtBe,MAAMC,KAAK,CAACb,UAAUc,IAAI,CAAC,MAAMT,MAAMC;IACvCM,MAAMC,KAAK,CAACd,MAAMe,IAAI,CAAC,MAAM,MAAMN,QAAQ,CAAC;IAC5CI,MAAMC,KAAK,CAACZ,WAAWa,IAAI,CAAC,MAAMT,MAAMC;IACxCM,MAAMG,KAAK,CAACR;AACd;AAEAL,OAAOC,OAAO,CAACG,OAAO,GAAG;IAAEU,OAAO;QAAE,cAAc;QAAMN,SAAS;QAAKC,MAAM;IAAI;AAAE"}