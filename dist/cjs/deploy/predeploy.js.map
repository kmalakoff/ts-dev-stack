{"version":3,"sources":["predeploy.js"],"sourcesContent":["const Queue = require('queue-cb');\nconst spawn = require('../lib/spawn');\n\nconst build = require('../build');\nconst format = require('../quality/format');\n\nmodule.exports = function predeploy(args, options, cb) {\n  const cwd = options.cwd || process.cwd();\n\n  const queue = new Queue(1);\n  queue.defer(format.bind(null, args, options));\n  queue.defer(build.bind(null, args, options));\n  queue.defer(spawn.bind(null, 'sort-package-json', [], { cwd: cwd }));\n  queue.defer(spawn.bind(null, 'depcheck', [], { cwd: cwd }));\n  queue.await(cb);\n};\n"],"names":["Queue","require","spawn","build","format","module","exports","predeploy","args","options","cb","cwd","process","queue","defer","bind","await"],"mappings":";AAAA,IAAMA,QAAQC,QAAQ;AACtB,IAAMC,QAAQD,QAAQ;AAEtB,IAAME,QAAQF,QAAQ;AACtB,IAAMG,SAASH,QAAQ;AAEvBI,OAAOC,OAAO,GAAG,SAASC,UAAUC,IAAI,EAAEC,OAAO,EAAEC,EAAE;IACnD,IAAMC,MAAMF,QAAQE,GAAG,IAAIC,QAAQD,GAAG;IAEtC,IAAME,QAAQ,IAAIb,MAAM;IACxBa,MAAMC,KAAK,CAACV,OAAOW,IAAI,CAAC,MAAMP,MAAMC;IACpCI,MAAMC,KAAK,CAACX,MAAMY,IAAI,CAAC,MAAMP,MAAMC;IACnCI,MAAMC,KAAK,CAACZ,MAAMa,IAAI,CAAC,MAAM,qBAAqB,EAAE,EAAE;QAAEJ,KAAKA;IAAI;IACjEE,MAAMC,KAAK,CAACZ,MAAMa,IAAI,CAAC,MAAM,YAAY,EAAE,EAAE;QAAEJ,KAAKA;IAAI;IACxDE,MAAMG,KAAK,CAACN;AACd"}