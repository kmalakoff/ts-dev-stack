{"version":3,"sources":["pre.mjs"],"sourcesContent":["import Queue from 'queue-cb';\nimport { spawn } from 'tsds-lib';\n\nimport build from '../build/index.mjs';\nimport format from '../quality/format.mjs';\n\nexport default function predeploy(args, options, cb) {\n  const cwd = options.cwd || process.cwd();\n\n  const queue = new Queue(1);\n  queue.defer(format.bind(null, args, options));\n  queue.defer(build.bind(null, args, options));\n  queue.defer(spawn.bind(null, 'sort-package-json', [], { cwd }));\n  queue.defer(spawn.bind(null, 'depcheck', [], { cwd }));\n  queue.await(cb);\n}\n"],"names":["predeploy","args","options","cb","cwd","process","queue","Queue","defer","format","bind","build","spawn","await"],"mappings":";;;;+BAMA;;;eAAwBA;;;8DANN;uBACI;4DAEJ;6DACC;;;;;;AAEJ,SAASA,UAAUC,IAAI,EAAEC,OAAO,EAAEC,EAAE;IACjD,IAAMC,MAAMF,QAAQE,GAAG,IAAIC,QAAQD,GAAG;IAEtC,IAAME,QAAQ,IAAIC,gBAAK,CAAC;IACxBD,MAAME,KAAK,CAACC,eAAM,CAACC,IAAI,CAAC,MAAMT,MAAMC;IACpCI,MAAME,KAAK,CAACG,cAAK,CAACD,IAAI,CAAC,MAAMT,MAAMC;IACnCI,MAAME,KAAK,CAACI,cAAK,CAACF,IAAI,CAAC,MAAM,qBAAqB,EAAE,EAAE;QAAEN,KAAAA;IAAI;IAC5DE,MAAME,KAAK,CAACI,cAAK,CAACF,IAAI,CAAC,MAAM,YAAY,EAAE,EAAE;QAAEN,KAAAA;IAAI;IACnDE,MAAMO,KAAK,CAACV;AACd"}