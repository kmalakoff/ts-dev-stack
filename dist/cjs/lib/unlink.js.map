{"version":3,"sources":["unlink.js"],"sourcesContent":["var path = require('path');\nvar fs = require('fs');\nvar Queue = require('queue-cb');\n\nfunction removeLink(installPath, cb) {\n  fs.unlink(installPath, cb);\n}\n\nmodule.exports = function unlink(installPath, cb) {\n  var movedPath = path.join(path.dirname(installPath), path.basename(installPath) + '.tsds');\n  var queue = new Queue(1);\n  queue.defer(removeLink.bind(null, installPath));\n  queue.defer(fs.rename.bind(null, movedPath, installPath));\n  queue.await(function () {\n    cb();\n  });\n};\n"],"names":["path","require","fs","Queue","removeLink","installPath","cb","unlink","module","exports","movedPath","join","dirname","basename","queue","defer","bind","rename","await"],"mappings":";AAAA,IAAIA,OAAOC,QAAQ;AACnB,IAAIC,KAAKD,QAAQ;AACjB,IAAIE,QAAQF,QAAQ;AAEpB,SAASG,WAAWC,WAAW,EAAEC,EAAE;IACjCJ,GAAGK,MAAM,CAACF,aAAaC;AACzB;AAEAE,OAAOC,OAAO,GAAG,SAASF,OAAOF,WAAW,EAAEC,EAAE;IAC9C,IAAII,YAAYV,KAAKW,IAAI,CAACX,KAAKY,OAAO,CAACP,cAAcL,KAAKa,QAAQ,CAACR,eAAe;IAClF,IAAIS,QAAQ,IAAIX,MAAM;IACtBW,MAAMC,KAAK,CAACX,WAAWY,IAAI,CAAC,MAAMX;IAClCS,MAAMC,KAAK,CAACb,GAAGe,MAAM,CAACD,IAAI,CAAC,MAAMN,WAAWL;IAC5CS,MAAMI,KAAK,CAAC;QACVZ;IACF;AACF"}