{"version":3,"sources":["predeploy.js"],"sourcesContent":["var Queue = require('queue-cb');\nvar spawn = require('../lib/spawn');\n\nvar build = require('../build');\nvar format = require('../quality/format');\n\nmodule.exports = function predeploy(args, options, cb) {\n  var cwd = options.cwd || process.cwd();\n\n  var queue = new Queue(1);\n  queue.defer(format.bind(null, args, options));\n  queue.defer(build.bind(null, args, options));\n  queue.defer(spawn.bind(null, 'git', ['add', 'build'], { cwd: cwd }));\n  queue.defer(spawn.bind(null, 'git', ['add', 'build'], { cwd: cwd }));\n  queue.defer(spawn.bind(null, 'sort-package-json', [], { cwd: cwd }));\n  queue.defer(spawn.bind(null, 'depcheck', [], { cwd: cwd }));\n  queue.await(cb);\n};\n"],"names":["Queue","require","spawn","build","format","module","exports","predeploy","args","options","cb","cwd","process","queue","defer","bind","await"],"mappings":";AAAA,IAAIA,QAAQC,QAAQ;AACpB,IAAIC,QAAQD,QAAQ;AAEpB,IAAIE,QAAQF,QAAQ;AACpB,IAAIG,SAASH,QAAQ;AAErBI,OAAOC,OAAO,GAAG,SAASC,UAAUC,IAAI,EAAEC,OAAO,EAAEC,EAAE;IACnD,IAAIC,MAAMF,QAAQE,GAAG,IAAIC,QAAQD,GAAG;IAEpC,IAAIE,QAAQ,IAAIb,MAAM;IACtBa,MAAMC,KAAK,CAACV,OAAOW,IAAI,CAAC,MAAMP,MAAMC;IACpCI,MAAMC,KAAK,CAACX,MAAMY,IAAI,CAAC,MAAMP,MAAMC;IACnCI,MAAMC,KAAK,CAACZ,MAAMa,IAAI,CAAC,MAAM,OAAO;QAAC;QAAO;KAAQ,EAAE;QAAEJ,KAAKA;IAAI;IACjEE,MAAMC,KAAK,CAACZ,MAAMa,IAAI,CAAC,MAAM,OAAO;QAAC;QAAO;KAAQ,EAAE;QAAEJ,KAAKA;IAAI;IACjEE,MAAMC,KAAK,CAACZ,MAAMa,IAAI,CAAC,MAAM,qBAAqB,EAAE,EAAE;QAAEJ,KAAKA;IAAI;IACjEE,MAAMC,KAAK,CAACZ,MAAMa,IAAI,CAAC,MAAM,YAAY,EAAE,EAAE;QAAEJ,KAAKA;IAAI;IACxDE,MAAMG,KAAK,CAACN;AACd"}