{"version":3,"sources":["karma.js"],"sourcesContent":["var path = require('path');\nvar Queue = require('queue-cb');\nvar link = require('../link');\nvar spawn = require('../lib/spawn');\n\nmodule.exports = function karma(args, options, cb) {\n  link(args, options, function (_err, restore) {\n    var queue = new Queue(1);\n    queue.defer(function (cb) {\n      var tests = args.length ? args[0] : 'test/**/*.test.*';\n      spawn('karma', ['start', path.join(__dirname, '..', '..', '..', 'assets', 'karma.conf.cjs'), tests], {}, cb);\n    });\n    queue.await(function (err) {\n      restore(function (err2) {\n        cb(err || err2);\n      });\n    });\n  });\n};\n"],"names":["path","require","Queue","link","spawn","module","exports","karma","args","options","cb","_err","restore","queue","defer","tests","length","join","__dirname","await","err","err2"],"mappings":";AAAA,IAAIA,OAAOC,QAAQ;AACnB,IAAIC,QAAQD,QAAQ;AACpB,IAAIE,OAAOF,QAAQ;AACnB,IAAIG,QAAQH,QAAQ;AAEpBI,OAAOC,OAAO,GAAG,SAASC,MAAMC,IAAI,EAAEC,OAAO,EAAEC,EAAE;IAC/CP,KAAKK,MAAMC,SAAS,SAAUE,IAAI,EAAEC,OAAO;QACzC,IAAIC,QAAQ,IAAIX,MAAM;QACtBW,MAAMC,KAAK,CAAC,SAAUJ,EAAE;YACtB,IAAIK,QAAQP,KAAKQ,MAAM,GAAGR,IAAI,CAAC,EAAE,GAAG;YACpCJ,MAAM,SAAS;gBAAC;gBAASJ,KAAKiB,IAAI,CAACC,WAAW,MAAM,MAAM,MAAM,UAAU;gBAAmBH;aAAM,EAAE,CAAC,GAAGL;QAC3G;QACAG,MAAMM,KAAK,CAAC,SAAUC,GAAG;YACvBR,QAAQ,SAAUS,IAAI;gBACpBX,GAAGU,OAAOC;YACZ;QACF;IACF;AACF"}