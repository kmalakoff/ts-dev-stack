{"version":3,"sources":["index.js"],"sourcesContent":["const Queue = require('queue-cb');\nconst cjs = require('./cjs');\nconst esm = require('./esm');\nconst umd = require('./umd');\nconst types = require('./types');\nconst { targets } = require('tsds-lib');\n\nmodule.exports = function build(args, options, cb) {\n  const targs = targets(options);\n\n  const queue = new Queue(1);\n  targs.indexOf('cjs') < 0 || queue.defer(cjs.bind(null, args, options));\n  targs.indexOf('esm') < 0 || queue.defer(esm.bind(null, args, options));\n  targs.indexOf('umd') < 0 || queue.defer(umd.bind(null, args, options));\n  queue.defer(types.bind(null, args, options));\n  queue.await(cb);\n};\n"],"names":["Queue","require","cjs","esm","umd","types","targets","module","exports","build","args","options","cb","targs","queue","indexOf","defer","bind","await"],"mappings":"AAAA,MAAMA,QAAQC,QAAQ;AACtB,MAAMC,MAAMD,QAAQ;AACpB,MAAME,MAAMF,QAAQ;AACpB,MAAMG,MAAMH,QAAQ;AACpB,MAAMI,QAAQJ,QAAQ;AACtB,MAAM,EAAEK,OAAO,EAAE,GAAGL,QAAQ;AAE5BM,OAAOC,OAAO,GAAG,SAASC,MAAMC,IAAI,EAAEC,OAAO,EAAEC,EAAE;IAC/C,MAAMC,QAAQP,QAAQK;IAEtB,MAAMG,QAAQ,IAAId,MAAM;IACxBa,MAAME,OAAO,CAAC,SAAS,KAAKD,MAAME,KAAK,CAACd,IAAIe,IAAI,CAAC,MAAMP,MAAMC;IAC7DE,MAAME,OAAO,CAAC,SAAS,KAAKD,MAAME,KAAK,CAACb,IAAIc,IAAI,CAAC,MAAMP,MAAMC;IAC7DE,MAAME,OAAO,CAAC,SAAS,KAAKD,MAAME,KAAK,CAACZ,IAAIa,IAAI,CAAC,MAAMP,MAAMC;IAC7DG,MAAME,KAAK,CAACX,MAAMY,IAAI,CAAC,MAAMP,MAAMC;IACnCG,MAAMI,KAAK,CAACN;AACd"}